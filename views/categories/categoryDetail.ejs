<!-- CcategoryDetail.ejs -->
<h1><%= category.name %></h1>
<p><%= category.description %></p>

<h2>Items in this category:</h2>

<ul>
  <% if (items.length === 0) { %>
    <li>No items in this category.</li>
  <% } else { %>
    <% items.forEach(item => { %>
      <li>
        <strong><%= item.name %></strong>
        â€” $<%= item.price %>
        â€” <%= item.platform %>
        â€” <%= item.item_condition %>

        <!-- Edit Item -->
        <a href="/items/<%= item.id %>/edit">âœï¸ Edit</a>

        <!-- Delete Item -->
        <form action="/items/<%= item.id %>/delete" method="POST" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this item?');">
          <button type="submit">ğŸ—‘ï¸ Delete</button>
        </form>
      </li>
    <% }) %>
  <% } %>
</ul>

<!-- Add new item -->
<a href="/items/new/<%= category.id %>">â• Add New Item</a>

<hr>

<!-- Edit Category -->
<a href="/categories/<%= category.id %>/edit">âœï¸ Edit Category</a>

<!-- Delete Category -->
<form action="/categories/<%= category.id %>/delete" method="POST" onsubmit="return confirm('Are you sure you want to delete this category?');">
  <button type="submit">ğŸ—‘ï¸ Delete Category</button>
</form>

<a href="/">â† Back to Home</a>
